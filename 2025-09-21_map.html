<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9/21 Í≥†Í≥†Ïã±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #331919;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .view-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: 500;
        }

        .view-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .search-box:focus {
            outline: none;
            border-color: #007bff;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .sort-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .sort-select {
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            background: white;
        }

        #mapContainer {
            display: none;
            width: 100%;
            height: 600px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .map-info-window {
            padding: 10px;
            min-width: 200px;
        }

        .map-info-title {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
            color: #333;
        }

        .map-info-hours {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .map-info-priority {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 11px;
            margin-bottom: 5px;
        }

        .map-info-link {
            display: inline-block;
            margin-top: 5px;
            padding: 4px 8px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 11px;
        }

        .popup-grid {
            display: grid;
            gap: 20px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .popup-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .popup-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .popup-header {
            background: #f0f4f8;
            color: #4a5568;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e2e8f0;
        }

        .popup-title {
            font-size: 18px;
            font-weight: bold;
        }

        .priority-badge {
            background: rgba(51, 51, 51, 0.1);
            color: #333;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            border: 1px solid rgba(51, 51, 51, 0.2);
        }

        .priority-high { background: #ffb3b3; }
        .priority-medium { background: #ffd9b3; }
        .priority-low { background: #c8e6c9; }

        .expand-icon {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .expanded .expand-icon {
            transform: rotate(180deg);
        }

        .popup-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .expanded .popup-content {
            max-height: 1000px;
        }

        .popup-details {
            padding: 20px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
        }

        .detail-value {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status-ongoing { background: #d4edda; color: #155724; }
        .status-ending { background: #fff3cd; color: #856404; }
        .status-ended { background: #f8d7da; color: #721c24; }

        .waiting-info {
            background: #e7f3ff;
            border: 2px solid #b3d7ff;
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
        }

        .waiting-icon {
            color: #0066cc;
            margin-right: 8px;
        }

        .url-links {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .url-link {
            background: #007bff;
            color: white;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            transition: background 0.3s;
        }

        .url-link:hover {
            background: #0056b3;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 18px;
        }

        .api-notice {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .api-notice h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .api-notice p {
            color: #856404;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .popup-grid {
                grid-template-columns: 1fr;
            }

            .filter-buttons {
                justify-content: center;
            }

            .sort-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .popup-header {
                padding: 15px;
            }

            .popup-title {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè™ 9/21 Í≥†Í≥†Ïã±</h1>
            <p>Î≠êÌïòÍ≥† ÎÜÄÍπå</p>
        </div>

        <div class="api-notice" id="apiNotice">
            <h3>üó∫Ô∏è ÏßÄÎèÑ Í∏∞Îä• ÏÑ§Ï†ï Î∞©Î≤ï</h3>
            <p>
                ÏßÄÎèÑÎ•º ÏÇ¨Ïö©ÌïòÎ†§Î©¥ Ïπ¥Ïπ¥Ïò§Îßµ API ÌÇ§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.<br>
                1. <a href="https://developers.kakao.com" target="_blank">https://developers.kakao.com</a>ÏóêÏÑú Ïï± Îì±Î°ù<br>
                2. JavaScript ÌÇ§ Î∞úÍ∏â<br>
                3. HTMLÏùò ca0816bee0db23ce6c74a1cb0c58b9b4Î•º Î∞úÍ∏âÎ∞õÏùÄ ÌÇ§Î°ú ÍµêÏ≤¥
            </p>
        </div>

        <div class="controls">
            <div class="view-toggle">
                <button class="view-btn active" onclick="toggleView('list')">üìã Î¶¨Ïä§Ìä∏ Î∑∞</button>
                <button class="view-btn" onclick="toggleView('map')">üó∫Ô∏è ÏßÄÎèÑ Î∑∞</button>
            </div>

            <input type="text" class="search-box" placeholder="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•">

            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">Ï†ÑÏ≤¥</button>
                <button class="filter-btn" data-filter="high">ÎÜíÏùÄ Ïö∞ÏÑ†ÏàúÏúÑ</button>
                <button class="filter-btn" data-filter="ongoing">ÏßÑÌñâÏ§ë</button>
                <button class="filter-btn" data-filter="reservation">ÏòàÏïΩ ÌïÑÏöî</button>
                <button class="filter-btn" data-filter="beauty">Î∑∞Ìã∞</button>
                <button class="filter-btn" data-filter="food">ÏãùÏùåÎ£å</button>
            </div>

            <div class="sort-controls">
                <label>Ï†ïÎ†¨:</label>
                <select class="sort-select">
                    <option value="smart">Ï∂îÏ≤úÏàú</option>
                    <option value="priority">Ïö∞ÏÑ†ÏàúÏúÑÏàú</option>
                    <option value="date">Í∏∞Í∞ÑÏàú</option>
                    <option value="name">Ïù¥Î¶ÑÏàú</option>
                    <option value="waiting">Ïõ®Ïù¥ÌåÖ ÏãúÍ∞ÑÏàú</option>
                </select>
            </div>
        </div>

        <div id="mapContainer"></div>

        <div class="popup-grid" id="popupGrid">
            <!-- ÌåùÏóÖ Ïπ¥ÎìúÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.
        </div>
    </div>

    <!-- Ïπ¥Ïπ¥Ïò§Îßµ APIÎ•º body ÎÅùÏóêÏÑú Î°úÎìú -->
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ca0816bee0db23ce6c74a1cb0c58b9b4&libraries=services&autoload=false"></script>

    <script>
        // Ï£ºÏùò: Ïã§Ï†ú ÏÇ¨Ïö© Ïãú ca0816bee0db23ce6c74a1cb0c58b9b4Î•º Î≥∏Ïù∏Ïùò Ïπ¥Ïπ¥Ïò§Îßµ API ÌÇ§Î°ú ÍµêÏ≤¥Ìï¥Ïïº Ìï©ÎãàÎã§
        // https://developers.kakao.com ÏóêÏÑú Ïï± Îì±Î°ù ÌõÑ JavaScript ÌÇ§Î•º Î∞úÍ∏âÎ∞õÏúºÏÑ∏Ïöî

        let map = null;
        let markers = [];
        let infoWindows = [];
        let geocoder = null;
        let currentView = 'list';

        const popupData = [
            {
                name: "ÎåÄÌïúÎØºÍµ≠ ÌñâÎ≥µÏ∂©Ï†ÑÏÜå",
                period: "9/19(Í∏à)-9/21(Ïùº)",
                endDate: "2025-09-21",
                hours: "Îß§Ïùº 11:00~19:00",
                location: "ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•Í∏∏ 18, ÌîºÏπòÏä§ÎèÑÏõê ÏÑ±Ïàò",
                content: "[9/19-9/21, 3ÏùºÍ∞Ñ] QR Ïù¥Î≤§Ìä∏Î°ú Ïä§Ìã∞Ïª§Î•º Î™®ÏïÑ Ïú†Î™Ö Ïä§ÌÉÄÍ∞ÄÎßπÏ†ê Î©îÎâ¥Î°ú ÍµêÌôò, Ïò®ÎàÑÎ¶¨ÏÉÅÌíàÍ∂åÏúºÎ°ú ÏÑ±ÏàòÎèô Í∞ÄÎßπÏ†ê Ïù¥Î≤§Ìä∏",
                events: "ÌòÑÏû• Î∞©Î¨∏ Ïãú ÌÇ§ÎßÅ ÍµøÏ¶à, Ï†ÑÌÜµÏùåÎ£å, ÌÅ¥Î†åÏßï Î∞ÄÌÅ¨ Ï¶ùÏ†ï",
                waiting: "Ï†ïÎ≥¥ ÏóÜÏùå",
                urls: ["https://www.instagram.com/p/DOubtlSktQY/"],
                priority: "high",
                status: "ongoing",
                category: ["food"],
                waitingTime: 0
            },
            {
                name: "Ïç®Î™®Ïä§ Ìï¥Ìîº Î£®Ìã¥ Îç∞Ïù¥",
                period: "9/18(Î™©)~9/28(Ïùº)",
                endDate: "2025-09-28",
                hours: "12:00~20:00",
                location: "LES601ÏÑ±Ïàò (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•17Í∏∏ 4)",
                content: "Ïù¥ÎÇòÌîºÏä§ÌÄòÏñ¥ ÏΩúÎùºÎ≥¥ Ï†úÌíà ÏÑ†Í≥µÍ∞ú, Î£®Ìã¥ ÌîÑÎ°úÍ∑∏Îû® Ï≤¥Ìóò, 4Îã®Í≥Ñ ÎØ∏ÏÖò ÏôÑÎ£å ÌõÑ 2Ï∏µ Ïπ¥Ìéò Ïù¥Ïö©",
                events: "Ï†Ñ Ï†úÌíà 30% Ìï†Ïù∏, ÏΩúÎùºÎ≥¥ Ï†úÌíà Íµ¨Îß§ Ïãú Î¶¨Ïú†Ï†ÄÎ∏îÎ∞± 1:1 Ï¶ùÏ†ï, Îß§Ïùº ÏÑ†Ï∞©Ïàú 100Î™Ö Îü≠ÌÇ§ÎìúÎ°úÏö∞",
                waiting: "Ïõ®Ïù¥ÌåÖ Í∏∞Í≥Ñ ÏûàÏùå, Ïò§Ìîà 15Î∂Ñ Ï†Ñ ÎèÑÏ∞© Ï∂îÏ≤ú (ÏïûÏóê 13ÌåÄ ÎåÄÍ∏∞)",
                urls: ["https://m.blog.naver.com/ilsang___gongyu/224007680643", "https://blog.naver.com/hyoniholic"],
                priority: "high",
                status: "ongoing",
                category: ["lifestyle"],
                waitingTime: 15
            },
            {
                name: "NH Ïò¨ÏõêÌÉÄÏö¥",
                period: "9/1(Ïõî)~9/30(Ìôî)",
                endDate: "2025-09-30",
                hours: "11:00~19:00",
                location: "NH Ïò¨ÏõêÌÉÄÏö¥ ÌåùÏóÖ (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•13Í∏∏ 11)",
                content: "Ïò¨ÏõêÎ±ÖÌÅ¨ Í∞ÄÏûÖ Ï≤¥Ìóò, Í∏àÍ≥† Ïò§Ìîà Ï±åÎ¶∞ÏßÄ, ÏåÄÍ∑∏Îû® Ï±åÎ¶∞ÏßÄ, Í≤åÏûÑ Ï≤¥Ìóò",
                events: "Ïò¨ÏõêÎ±ÖÌÅ¨ Í∞ÄÏûÖ Ïãú Ïò¨Ïõê Î∂ÄÏä§ÌÑ∞, ÏåÄ ÏïÑÏù¥Ïä§ÌÅ¨Î¶º, Ìè¨ÌÜ†Ï°¥ ÏÇ¨ÏßÑ Ïù∏Ìôî ÏÑúÎπÑÏä§",
                waiting: "Î≤àÌò∏Ìëú Î∞úÍ∏â ÌõÑ ÎåÄÍ∏∞",
                urls: ["https://m.blog.naver.com/soljeon93/224010686091"],
                priority: "high",
                status: "ongoing",
                category: ["finance"],
                waitingTime: 5
            },
            {
                name: "ÌïÄÎûÄÎìú ÏòÅÏñëÎ∂ÑÏãù",
                period: "9/12(Í∏à)~9/21(Ïùº)",
                endDate: "2025-09-21",
                hours: "12:00~20:00 (ÏûÖÏû•ÎßàÍ∞ê 19:30)",
                location: "MMÏÑ±Ïàò (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•Í∏∏ 95)",
                content: "ÎØ∏ÏäêÎû≠ 3Ïä§ÌÉÄ ÏÖ∞ÌîÑÏôÄ ÌùëÎ∞±ÏöîÎ¶¨ÏÇ¨Í∞Ä ÎßåÎì† ÏòÅÏñëÍµ∞ ÏãùÏû¨Î£å Î∂ÑÏãù, ÏûêÏûëÎÇòÎ¨¥Ïà≤ ÎØ∏ÎîîÏñ¥ÏïÑÌä∏, Î∞§ÌïòÎäò Ï≤¥Ìóò",
                events: "Ïä§ÌÉ¨ÌîÑÌà¨Ïñ¥ ÏôÑÎ£å Ïãú ÌúòÎÇ≠ÏãúÏóê+Îª•Ïä§ÌÅ¨Î¶º, 4Ï¢Ö Î∂ÑÏãùÏÑ∏Ìä∏+Ï¥àÌôîÏ£º Ï†úÍ≥µ",
                waiting: "ÌòÑÏû• ÎåÄÍ∏∞ Ïãú 20-30Î∂Ñ Ïõ®Ïù¥ÌåÖ",
                urls: ["https://m.blog.naver.com/bariyoone/224011502376", "https://blog.naver.com/realjaekyo"],
                priority: "high",
                status: "ongoing",
                category: ["food"],
                waitingTime: 25,
                reservation: true
            },
            {
                name: "Í∏∞ÏïÑ EV5 X ÌååÏù¥Î∏åÍ∞ÄÏù¥Ï¶à",
                period: "9/12~9/21",
                endDate: "2025-09-21",
                hours: "11:00~20:00",
                location: "Í∏∞ÏïÑ Ïñ∏ÌîåÎü¨Í∑∏Îìú Í∑∏ÎùºÏö¥Îìú (ÏÑ±ÎèôÍµ¨ ÏÉÅÏõê4Í∏∏ 10)",
                content: "Ïä§ÌÉ¨ÌîÑ Ìà¨Ïñ¥ 5Í∞ú ÏôÑÎ£å Ïãú ÌååÏù¥Î∏åÍ∞ÄÏù¥Ï¶à Î≤ÑÍ±∞/ÏâêÏù¥ÌÅ¨ Î£∞Î†õ Ïù¥Î≤§Ìä∏, ÌïòÎßåÏπ¥Îèà Ïä§ÌîºÏª§ Ï≤¥Ìóò",
                events: "Î¨¥Î£å ÎïÖÏΩ© Ï¶ùÏ†ï, ÌïòÎßåÏπ¥Îèà Ïä§ÌîºÏª§ Ï∂îÏ≤®, Ïù∏Ìòï ÌÇ§ÎßÅ Ï¶ùÏ†ï",
                waiting: "Ï†ïÎ≥¥ ÏóÜÏùå",
                urls: ["https://m.blog.naver.com/yourlunacy/224006403020"],
                priority: "medium",
                status: "ongoing",
                category: ["automotive", "food"],
                waitingTime: 0
            },
            {
                name: "Î∞îÎ•º ÌåùÏóÖ",
                period: "9/12~9/21",
                endDate: "2025-09-21",
                hours: "11:00~21:00",
                location: "517Îû© (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•Í∏∏ 31-1 1Ï∏µ 103Ìò∏)",
                content: "ÏãúÏπ¥Î∞§Î∂Ä ÌÜ†ÎÑàÌå®Îìú, Ï∞®ÏΩú Î©úÌåÖÎ∞§, ÏÑ†Ïø†ÏÖò Ï≤¥Ìóò, ÌÇ§ÎßÅ ÎßåÎì§Í∏∞",
                events: "SNS ÌåîÎ°úÏö∞ Ïãú ÏÉòÌîå 3Ï¢Ö ÏÑ∏Ìä∏, Íµ¨Îß§ Ïãú ÏµúÎåÄ 32% Ìï†Ïù∏ Î∞è Í∞ÄÏ±†",
                waiting: "Ïõ®Ïù¥ÌåÖ ÌÉúÎ∏îÎ¶ø ÏûàÏùå, ÏÇ¨ÎûåÏù¥ ÎßéÏßÄ ÏïäÏúºÎ©¥ ÌòÑÏû• ÎåÄÍ∏∞ Ïû†Íπê",
                urls: ["https://m.blog.naver.com/yourlunacy/224007721302"],
                priority: "medium",
                status: "ongoing",
                category: ["beauty"],
                waitingTime: 10
            },
            {
                name: "Treed Ìä∏Î¶¨Îìú ÌåùÏóÖ",
                period: "9/17(Ïàò)~9/23(Ìôî)",
                endDate: "2025-09-23",
                hours: "11:00~20:00",
                location: "Î¨¥Ïã†ÏÇ¨ Î∑∞Ìã∞ Ïä§ÌéòÏù¥Ïä§1 (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•Í∏∏ 81)",
                content: "ÌïúÍµ≠ Ï†ÑÌÜµ Ìñ• Ï≤¥Ìóò, ÏÇ¨Íµ∞Ïûê Ìñ• Ìè¨Ìï® 5Í∞ÄÏßÄ Ìñ• Ï≤¥Ìóò",
                events: "29CM Ï¢ãÏïÑÏöî Î∞è Ïù∏Ïä§ÌÉÄ ÌåîÎ°úÏö∞ Ïãú ÎÇúÏ¥à ÏÉòÌîå ÌÇ§Ìä∏ Î∞è ÏÜåÎÇòÎ¨¥ ÏóΩÏÑú Ï¶ùÏ†ï",
                waiting: "Ï†ïÎ≥¥ ÏóÜÏùå",
                urls: ["https://m.blog.naver.com/ilsang___gongyu/224007703825"],
                priority: "medium",
                status: "ongoing",
                category: ["beauty"],
                waitingTime: 0
            },
            {
                name: "Î≥¥Îã§ÎÇò Born To Blow",
                period: "9/19(Í∏à)~9/21(Ïùº)",
                endDate: "2025-09-21",
                hours: "Í∏à 15:00-19:00, ÌÜ†-Ïùº 11:00-19:00 (ÏûÖÏû•ÎßàÍ∞ê 18:30)",
                location: "ÏÑ±Ïàò ÎÇ®Ï†ïÎπåÎî© 1Ï∏µ (ÏÑ±ÏàòÏù¥Î°ú 88)",
                content: "Î≥¥Îã§ÎÇò ÏÑ±Ïàò Ï≤´ ÌåùÏóÖ! ÎπõÎÇòÎäî ÎîîÎ∞îÏùò Ïä§ÌÉÄÏùº Ïó¨Ï†ï Ï≤¥Ìóò. 5Îã®Í≥Ñ ÎîîÎ∞î Ï≤¥Ìóò (AI Ï∫êÎ¶≠ÌÑ∞ ÏÉùÏÑ±, ÎÖπÏùåÏã§ Î¨¥ÎπÑ Ï¥¨ÏòÅ, Î∞±Ïä§ÌÖåÏù¥ÏßÄ Ïä§ÌÉÄÏùºÎßÅ, Î©îÏù∏Ïä§ÌÖåÏù¥ÏßÄ, Î¶¨ÏõåÎìúÏ°¥), Í∏ÄÎûòÏñ¥ Ïä§ÌÉÄÏùºÎü¨ Ìè¥Îìú Îì± Ïã†Ï†úÌíà Ï≤¥Ìóò",
                events: "Ïπ¥Ïπ¥Ïò§ ÏòàÏïΩ Ïãú Îü¨Î∏îÎ¶¨ Ìó§Ïñ¥ ÌÅ¥Î¶Ω, Ïù∏Ïä§ÌÉÄ ÌåîÎ°úÏö∞ Ïãú Î¶¨ÏõåÎìú LP ÌÇ§ÎßÅ + Ìä∏ÎùºÏù¥ÏñºÌÇ§Ìä∏, ÌòÑÏû• ÏÇ¨ÏßÑ ÏóÖÎ°úÎìú Ïãú Î≥∏Ìíà Ï∂îÏ≤®",
                waiting: "",
                urls: ["https://m.blog.naver.com/chi_v_ola/224014515146", "https://blog.naver.com/twinkle__hee"],
                priority: "low",
                status: "ongoing",
                category: ["beauty"],
                waitingTime: 0,
                reservation: true
            },
            {
                name: "ÌååÏù∏ÎìúÏπ¥Ìë∏Ïñ¥ ÌîåÎûòÍ∑∏Ïã≠ Ïä§ÌÜ†Ïñ¥",
                period: "9/11~9/30",
                endDate: "2025-09-30",
                hours: "11:00~20:00",
                location: "ÌååÏù∏ÎìúÏπ¥Ìë∏Ïñ¥ ÌîåÎûòÍ∑∏ÏâΩ ÏÑ±Ïàò (ÏÑ±ÎèôÍµ¨ ÏÑ±ÏàòÏù¥Î°ú7Í∞ÄÍ∏∏ 23 1Ï∏µ, 2Ï∏µ)",
                content: "Ïã†ÏÉÅÌíà Ï≤¥Ìóò Î∞è Íµ¨Îß§",
                events: "50% Ìï†Ïù∏ Ïø†Ìè∞, Îâ¥ÎØπÏä§ ÎßêÏ∞®ÎùºÎñº 2p Î∞è Ïø†ÌÇ§ Ï¶ùÏ†ï, Íµ¨Îß§ Í∏àÏï°Î≥Ñ ÏÇ¨ÏùÄÌíà",
                waiting: "Ï†ïÎ≥¥ ÏóÜÏùå",
                urls: ["https://m.blog.naver.com/yourlunacy/224008690616"],
                priority: "low",
                status: "ongoing",
                category: ["fashion"],
                waitingTime: 0
            },
            {
                name: "2025 Ï†úÎ°úÏõêÎç∞Ïù¥ Ï†ÑÏãú",
                period: "9/17(Ïàò)~9/21(Ïùº)",
                endDate: "2025-09-21",
                hours: "10:30~20:00",
                location: "ÌòÑÎåÄ ÏÑ±Ïàò Î≥µÌï©Í±∞Ï†ê (ÏÑ±ÎèôÍµ¨ ÏÑ±ÏàòÏùºÎ°ú6Í∏∏ 10)",
                content: "ÌÅ¨Î¶¨ÏóêÏù¥ÌÑ∞¬∑Ïä§ÌÉÄÌä∏ÏóÖ¬∑ÌòÑÎåÄÏûêÎèôÏ∞®Í∑∏Î£π ÏúµÎ≥µÌï© ÌîÑÎ°úÏ†ùÌä∏ Ï†ÑÏãú",
                events: "ÏÑ§Î¨∏ Ï∞∏Ïó¨ Ïãú Ïª§ÌîºÏø†Ìè∞ Ï¶âÏãú Ï¶ùÏ†ï",
                waiting: "ÏÇ¨Ï†ÑÏòàÏïΩ ÏóÜÏù¥ ÏûêÏú†Î°≠Í≤å Î¨¥Î£å ÏûÖÏû•",
                urls: ["https://m.blog.naver.com/ilsang___gongyu/224010924052"],
                priority: "low",
                status: "ongoing",
                category: ["exhibition"],
                waitingTime: 0
            },
            {
                name: "Î©îÎîîÌÅêÎ∏å X ÎßàÏù¥Î©úÎ°úÎîî",
                period: "9/10~9/22",
                endDate: "2025-09-22",
                hours: "11:00~21:00",
                location: "Ìä∏Î†åÎìúÌåü Î∞îÏù¥ Ïò¨Î¶¨Î∏åÏòÅ ÏÑ±Ïàò (ÏÑ±ÎèôÍµ¨ Ïó∞Î¨¥Ïû•7Í∏∏ 13)",
                content: "Î©îÎîîÌÅêÎ∏å ÏóêÏù¥ÏßÄÏïå Î∑∞Ìã∞ ÎîîÎ∞îÏù¥Ïä§ Ï≤¥Ìóò, ÎßàÏù¥Î©úÎ°úÎîî ÏΩúÎùºÎ≥¥ Ï†úÌíà ÌåêÎß§",
                events: "SNS ÌåîÎ°úÏö∞ Ïãú Ï†úÎ°úÎ™®Í≥µÌå®Îìú 2Îß§, Ï≤¥Ìóò Î∂ÄÏä§ Ïä§ÌÉ¨ÌîÑ 2Í∞ú Ïù¥ÏÉÅ Ïãú ÏÇ¨ÏùÄÌíà, Íµ¨Îß§ Ïãú Ìï†Ïù∏Ïø†Ìè∞",
                waiting: "ÏòàÏïΩÎ∂àÍ∞Ä ÌòÑÏû•Ïõ®Ïù¥ÌåÖ, ÎåÄÍ∏∞ÏãúÍ∞Ñ ÏïΩ 20Î∂Ñ (Ïô∏Íµ≠Ïù∏ Í¥ÄÍ¥ëÍ∞ù Îã§Ïàò)",
                urls: ["https://m.blog.naver.com/pqwe1003/224011602751"],
                priority: "low",
                status: "ongoing",
                category: ["beauty"],
                waitingTime: 20
            }
        ];

        let filteredData = [...popupData];
        let currentSort = 'smart';

        // ÏßÄÎèÑ Ï¥àÍ∏∞Ìôî Ìï®Ïàò
        function initMap() {
            console.log('initMap Ìï®Ïàò Ìò∏Ï∂úÎê®');

            // Ïπ¥Ïπ¥Ïò§ÎßµÏù¥ ÏïÑÏßÅ Î°úÎìúÎêòÏßÄ ÏïäÏïòÎã§Î©¥ Î°úÎìúÎ•º ÏãúÎèÑ
            if (!window.kakao || !window.kakao.maps) {
                console.log('Ïπ¥Ïπ¥Ïò§Îßµ APIÎ•º Î°úÎìúÌï©ÎãàÎã§...');

                // kakao.maps.loadÎ•º ÏÇ¨Ïö©ÌïòÏó¨ API Î°úÎìú
                kakao.maps.load(function() {
                    console.log('Ïπ¥Ïπ¥Ïò§Îßµ API Î°úÎìú ÏôÑÎ£å');
                    initMapCore();
                });
            } else {
                initMapCore();
            }
        }

        // Ïã§Ï†ú ÏßÄÎèÑ Ï¥àÍ∏∞Ìôî ÏΩîÏñ¥ Ìï®Ïàò
        function initMapCore() {
            console.log('initMapCore Ìï®Ïàò Ìò∏Ï∂úÎê®');
            console.log('window.kakao:', window.kakao);
            console.log('window.kakao.maps:', window.kakao ? window.kakao.maps : 'undefined');

            if (!window.kakao || !window.kakao.maps) {
                console.error('Ïπ¥Ïπ¥Ïò§Îßµ APIÍ∞Ä Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.');
                alert('ÏßÄÎèÑÎ•º ÌëúÏãúÌïòÎ†§Î©¥ Ïπ¥Ïπ¥Ïò§Îßµ API ÌÇ§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.\n\n1. https://developers.kakao.com ÏóêÏÑú Ïï± Îì±Î°ù\n2. JavaScript ÌÇ§ Î∞úÍ∏â\n3. HTMLÏùò ca0816bee0db23ce6c74a1cb0c58b9b4Î•º Î∞úÍ∏âÎ∞õÏùÄ ÌÇ§Î°ú ÍµêÏ≤¥');
                return;
            }

            console.log('Ïπ¥Ïπ¥Ïò§Îßµ API ÏÇ¨Ïö© Í∞ÄÎä•');

            const mapContainer = document.getElementById('mapContainer');
            console.log('mapContainer:', mapContainer);

            if (!mapContainer) {
                console.error('ÏßÄÎèÑ Ïª®ÌÖåÏù¥ÎÑàÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');
                return;
            }

            const mapOption = {
                center: new kakao.maps.LatLng(37.5447, 127.0557), // ÏÑ±ÏàòÎèô Ï§ëÏã¨ Ï¢åÌëú
                level: 5
            };

            console.log('ÏßÄÎèÑ ÏÉùÏÑ± ÏãúÎèÑ Ï§ë...');
            try {
                map = new kakao.maps.Map(mapContainer, mapOption);
                console.log('ÏßÄÎèÑ ÏÉùÏÑ± ÏôÑÎ£å:', map);

                geocoder = new kakao.maps.services.Geocoder();
                console.log('Geocoder ÏÉùÏÑ± ÏôÑÎ£å:', geocoder);

                // Î™®Îì† ÌåùÏóÖ ÏúÑÏπòÎ•º ÏßÄÎèÑÏóê ÌëúÏãú
                addMarkersToMap();
            } catch (error) {
                console.error('ÏßÄÎèÑ ÏÉùÏÑ± Ïã§Ìå®:', error);
                alert('ÏßÄÎèÑ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ' + error.message);
            }
        }

        // Ï£ºÏÜåÎ•º Ï¢åÌëúÎ°ú Î≥ÄÌôòÌïòÍ≥† ÎßàÏª§ Ï∂îÍ∞Ä
        function addMarkersToMap() {
            console.log('addMarkersToMap Ìï®Ïàò Ìò∏Ï∂úÎê®');
            console.log('geocoder:', geocoder);
            console.log('filteredData:', filteredData);

            if (!geocoder) {
                console.error('GeocoderÍ∞Ä ÏóÜÏäµÎãàÎã§.');
                return;
            }

            // Í∏∞Ï°¥ ÎßàÏª§ Ï†úÍ±∞
            markers.forEach(marker => marker.setMap(null));
            infoWindows.forEach(infoWindow => infoWindow.close());
            markers = [];
            infoWindows = [];

            filteredData.forEach((popup, index) => {
                console.log(`Ï≤òÎ¶¨ Ï§ë: ${popup.name} - ${popup.location}`);

                // Ï£ºÏÜåÎ•º Ï¢åÌëúÎ°ú Î≥ÄÌôò
                geocoder.addressSearch(popup.location, function(result, status) {
                    console.log(`Ï£ºÏÜå Í≤ÄÏÉâ Í≤∞Í≥º (${popup.name}):`, result, status);

                    if (status === kakao.maps.services.Status.OK) {
                        const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                        // ÎßàÏª§ ÏÉùÏÑ±
                        console.log(`ÎßàÏª§ ÏÉùÏÑ± ÏãúÎèÑ: ${popup.name}`, coords);

                        const marker = new kakao.maps.Marker({
                            map: map,
                            position: coords,
                            title: popup.name
                        });

                        console.log(`ÎßàÏª§ ÏÉùÏÑ± ÏôÑÎ£å: ${popup.name}`, marker);

                        // Ïö∞ÏÑ†ÏàúÏúÑÏóê Îî∞Î•∏ ÏÉâÏÉÅ
                        const priorityColors = {
                            'high': '#ffb3b3',
                            'medium': '#ffd9b3',
                            'low': '#c8e6c9'
                        };

                        // Ïù∏Ìè¨ÏúàÎèÑÏö∞ ÎÇ¥Ïö©
                        const iwContent = `
                            <div class="map-info-window">
                                <div class="map-info-title">${popup.name}</div>
                                <div class="map-info-hours">${popup.hours}</div>
                                <div class="map-info-priority" style="background: ${priorityColors[popup.priority]}">
                                    ${popup.priority === 'high' ? 'Í≥†Í≥†Ïã±' : popup.priority === 'medium' ? 'Í∞àÎßåÌïúÎìØ' : 'ÏãúÍ∞ÑÎêòÎ©¥'}
                                </div>
                                <br>
                                <a href="#" class="map-info-link" onclick="showPopupDetail('${popup.name}'); return false;">ÏÉÅÏÑ∏Ï†ïÎ≥¥</a>
                            </div>
                        `;

                        // Ïù∏Ìè¨ÏúàÎèÑÏö∞ ÏÉùÏÑ±
                        const infoWindow = new kakao.maps.InfoWindow({
                            content: iwContent,
                            removable: true
                        });

                        // ÎßàÏª§ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
                        kakao.maps.event.addListener(marker, 'click', function() {
                            console.log('ÎßàÏª§ ÌÅ¥Î¶≠Îê®:', popup.name);
                            // Î™®Îì† Ïù∏Ìè¨ÏúàÎèÑÏö∞ Îã´Í∏∞
                            infoWindows.forEach(iw => iw.close());
                            // ÌÅ¥Î¶≠Ìïú ÎßàÏª§Ïùò Ïù∏Ìè¨ÏúàÎèÑÏö∞ Ïó¥Í∏∞
                            infoWindow.open(map, marker);
                        });

                        markers.push(marker);
                        infoWindows.push(infoWindow);
                    } else {
                        console.error(`Ï£ºÏÜå Í≤ÄÏÉâ Ïã§Ìå® (${popup.name}):`, status, popup.location);
                    }
                });
            });

            console.log('ÎßàÏª§ Ï∂îÍ∞Ä ÏôÑÎ£å. Ï¥ù ÎßàÏª§ Ïàò:', markers.length);
        }

        // ÌåùÏóÖ ÏÉÅÏÑ∏Ï†ïÎ≥¥ ÌëúÏãú (Î¶¨Ïä§Ìä∏ Î∑∞Î°ú Ï†ÑÌôòÌïòÍ≥† Ìï¥Îãπ Ïπ¥Îìú ÌôïÏû•)
        function showPopupDetail(popupName) {
            toggleView('list');

            // Ìï¥Îãπ ÌåùÏóÖ Ïπ¥Îìú Ï∞æÏïÑÏÑú ÌôïÏû•
            setTimeout(() => {
                const cards = document.querySelectorAll('.popup-card');
                cards.forEach(card => {
                    const data = JSON.parse(card.dataset.popup);
                    if (data.name === popupName) {
                        card.classList.add('expanded');
                        card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            }, 100);
        }

        // Î∑∞ Ï†ÑÌôò Ìï®Ïàò
        function toggleView(view) {
            currentView = view;

            const listBtn = document.querySelector('.view-btn[onclick*="list"]');
            const mapBtn = document.querySelector('.view-btn[onclick*="map"]');
            const mapContainer = document.getElementById('mapContainer');
            const popupGrid = document.getElementById('popupGrid');
            const apiNotice = document.getElementById('apiNotice');

            if (view === 'map') {
                listBtn.classList.remove('active');
                mapBtn.classList.add('active');
                mapContainer.style.display = 'block';
                popupGrid.style.display = 'none';
                apiNotice.style.display = 'none';

                // ÏßÄÎèÑÍ∞Ä ÏïÑÏßÅ Ï¥àÍ∏∞ÌôîÎêòÏßÄ ÏïäÏïòÎã§Î©¥ Ï¥àÍ∏∞Ìôî
                if (!map) {
                    initMap();
                } else {
                    // ÏßÄÎèÑ ÌÅ¨Í∏∞ Ïû¨Ï°∞Ï†ï
                    setTimeout(() => {
                        map.relayout();
                    }, 100);
                }
            } else {
                listBtn.classList.add('active');
                mapBtn.classList.remove('active');
                mapContainer.style.display = 'none';
                popupGrid.style.display = 'grid';
                apiNotice.style.display = 'block';
            }
        }

        function getStatusBadge(status) {
            const statusMap = {
                'ongoing': { class: 'status-ongoing', text: 'ÏßÑÌñâÏ§ë' },
                'ending': { class: 'status-ending', text: 'ÎßàÍ∞êÏûÑÎ∞ï' },
                'ended': { class: 'status-ended', text: 'Ï¢ÖÎ£å' }
            };
            const statusInfo = statusMap[status] || statusMap['ended'];
            return `<span class="status-badge ${statusInfo.class}">${statusInfo.text}</span>`;
        }

        function getPriorityBadge(priority) {
            const priorityMap = {
                'high': { class: 'priority-high', text: 'Í≥†Í≥†Ïã±' },
                'medium': { class: 'priority-medium', text: 'Í∞àÎßåÌïúÎìØ' },
                'low': { class: 'priority-low', text: 'ÏãúÍ∞ÑÎêòÎ©¥' }
            };
            const priorityInfo = priorityMap[priority] || priorityMap['low'];
            return `<span class="priority-badge ${priorityInfo.class}">${priorityInfo.text}</span>`;
        }

        function getWaitingInfo(waiting, waitingTime) {
            if (waiting === "Ï†ïÎ≥¥ ÏóÜÏùå") return '';
            return `
                <div class="waiting-info">
                    <span class="waiting-icon">‚è∞</span>
                    <strong>Ïõ®Ïù¥ÌåÖ Ï†ïÎ≥¥:</strong> ${waiting}
                </div>
            `;
        }

        function createPopupCard(popup) {
            const urlLinks = popup.urls.map((url, index) =>
                `<a href="${url}" target="_blank" class="url-link">ÌõÑÍ∏∞ ${index + 1}</a>`
            ).join('');

            return `
                <div class="popup-card" data-popup='${JSON.stringify(popup)}'>
                    <div class="popup-header" onclick="toggleCard(this)">
                        <div>
                            <div class="popup-title">${popup.name}</div>
                            <div style="font-size: 12px; margin-top: 5px;">${popup.hours}</div>
                        </div>
                        <div style="text-align: right;">
                            ${getPriorityBadge(popup.priority)}
                            <div class="expand-icon">‚ñº</div>
                        </div>
                    </div>
                    <div class="popup-content">
                        <div class="popup-details">
                            <!-- ${getStatusBadge(popup.status)} -->

                            <div class="detail-section">
                                <div class="detail-label">üìç ÏúÑÏπò</div>
                                <div class="detail-value">${popup.location}</div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">üïê Ïö¥ÏòÅÏãúÍ∞Ñ</div>
                                <div class="detail-value">${popup.hours}</div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">üìù ÎÇ¥Ïö©</div>
                                <div class="detail-value">${popup.content}</div>
                            </div>

                            <div class="detail-section">
                                <div class="detail-label">üéÅ Ïù¥Î≤§Ìä∏</div>
                                <div class="detail-value">${popup.events}</div>
                            </div>

                            ${getWaitingInfo(popup.waiting, popup.waitingTime)}

                            <div class="detail-section">
                                <div class="detail-label">üîó Í¥ÄÎ†® ÎßÅÌÅ¨</div>
                                <div class="url-links">${urlLinks}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function toggleCard(header) {
            const card = header.closest('.popup-card');
            card.classList.toggle('expanded');
        }

        function renderPopups(data) {
            const grid = document.getElementById('popupGrid');
            const noResults = document.getElementById('noResults');

            if (data.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
            } else {
                grid.style.display = 'grid';
                noResults.style.display = 'none';
                grid.innerHTML = data.map(createPopupCard).join('');
            }
        }

        function sortData(data, sortBy) {
            const sorted = [...data];

            switch(sortBy) {
                case 'smart':
                    // Î≥µÌï© Ï†ïÎ†¨: Ïö∞ÏÑ†ÏàúÏúÑÏôÄ Ï¢ÖÎ£åÏùº Í∞ÄÏ§ëÏπò Ï°∞Ìï©
                    const priorityWeight = { 'high': 3, 'medium': 2, 'low': 1 };
                    const today = new Date('2025-09-20');
                    return sorted.sort((a, b) => {
                        // ÎÇ®ÏùÄ ÎÇ†Ïßú Í≥ÑÏÇ∞ (0-10Ïùº Ïä§ÏºÄÏùº)
                        const daysLeftA = Math.max(0, Math.min(10, (new Date(a.endDate) - today) / (1000 * 60 * 60 * 24)));
                        const daysLeftB = Math.max(0, Math.min(10, (new Date(b.endDate) - today) / (1000 * 60 * 60 * 24)));

                        // Ï¢ÖÎ£å ÏûÑÎ∞ïÏùºÏàòÎ°ù ÎÜíÏùÄ Ï†êÏàò (10Ï†ê ÎßåÏ†ê)
                        const timeScoreA = 10 - daysLeftA;
                        const timeScoreB = 10 - daysLeftB;

                        // Ïö∞ÏÑ†ÏàúÏúÑ Ï†êÏàò (10Ï†ê ÎßåÏ†êÏúºÎ°ú Î≥ÄÌôò)
                        const priorityScoreA = priorityWeight[a.priority] * 3.33;
                        const priorityScoreB = priorityWeight[b.priority] * 3.33;

                        // Î≥µÌï© Ï†êÏàò (Ïö∞ÏÑ†ÏàúÏúÑ 60%, ÏãúÍ∞Ñ 40% Í∞ÄÏ§ëÏπò)
                        const totalScoreA = (priorityScoreA * 0.6) + (timeScoreA * 0.4);
                        const totalScoreB = (priorityScoreB * 0.6) + (timeScoreB * 0.4);

                        return totalScoreB - totalScoreA;
                    });
                case 'priority':
                    const priorityOrder = { 'high': 3, 'medium': 2, 'low': 1 };
                    return sorted.sort((a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]);
                case 'date':
                    return sorted.sort((a, b) => new Date(a.endDate) - new Date(b.endDate));
                case 'name':
                    return sorted.sort((a, b) => a.name.localeCompare(b.name));
                case 'waiting':
                    return sorted.sort((a, b) => a.waitingTime - b.waitingTime);
                default:
                    return sorted;
            }
        }

        function filterData(data, filter) {
            switch(filter) {
                case 'all':
                    return data;
                case 'high':
                    return data.filter(popup => popup.priority === 'high');
                case 'ongoing':
                    return data.filter(popup => popup.status === 'ongoing');
                case 'reservation':
                    return data.filter(popup => popup.reservation);
                case 'beauty':
                    return data.filter(popup => popup.category.includes('beauty'));
                case 'food':
                    return data.filter(popup => popup.category.includes('food'));
                default:
                    return data;
            }
        }

        function searchData(data, searchTerm) {
            if (!searchTerm) return data;

            const term = searchTerm.toLowerCase();
            return data.filter(popup =>
                popup.name.toLowerCase().includes(term) ||
                popup.content.toLowerCase().includes(term) ||
                popup.location.toLowerCase().includes(term)
            );
        }

        function updateDisplay() {
            let result = [...popupData];

            // Í≤ÄÏÉâ Ï†ÅÏö©
            const searchTerm = document.querySelector('.search-box').value;
            result = searchData(result, searchTerm);

            // ÌïÑÌÑ∞ Ï†ÅÏö©
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            result = filterData(result, activeFilter);

            // Ï†ïÎ†¨ Ï†ÅÏö©
            const sortBy = document.querySelector('.sort-select').value;
            result = sortData(result, sortBy);

            filteredData = result;
            renderPopups(result);

            // ÏßÄÎèÑ Î∑∞Í∞Ä ÌôúÏÑ±ÌôîÎêòÏñ¥ ÏûàÏúºÎ©¥ ÎßàÏª§ ÏóÖÎç∞Ïù¥Ìä∏
            if (currentView === 'map' && map) {
                addMarkersToMap();
            }
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        document.querySelector('.search-box').addEventListener('input', updateDisplay);

        document.querySelector('.sort-select').addEventListener('change', updateDisplay);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                updateDisplay();
            });
        });

        // Ï¥àÍ∏∞ Î†åÎçîÎßÅ
        updateDisplay();
    </script>
</body>
</html>